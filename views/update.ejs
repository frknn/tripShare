<% include partials/header.ejs %>
<header>
    <script src="https://cdn.ckeditor.com/ckeditor5/11.2.0/classic/ckeditor.js"></script>
</header>

<div class="container">
    <br>
    <h2 style="text-align:center">UPDATE YOUR POST</h2>
    <br>
    <form action="/updated/<%= foundBlog._id %>" enctype="multipart/form-data" method="POST">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="tripPhoto">Gezinizden fotoğrafınızı güncelleyin. <small>(Şu anlık devre dışı)</small></label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="tripPhoto" name="image" disabled>
                    <label class="custom-file-label" for="customFile"></label>
                </div>
            </div>
            <div class="form-group col-md-6">
                <label for="tripType">Gezi türünüzü güncelleyin.</label>
                <select id="tripType" class="form-control" name="type">
                <option value="Yaz Tatili">Yaz Tatili</option>
                <option value="Kış Tatili">Kış Tatili</option>
                <option value="Kültürel Gezi">Kültürel Gezi</option>
                <option value="Doğa Tatili">Doğa Tatili</option>
                <option value="Diğer">Diğer</option>
                </select>
            </div>    
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="tripCountry">Hangi ülkeye gittiğinizi güncelleyin.</label>
            <input type="text" class="form-control" id="tripCountry" placeholder="" name="country" value="<%= foundBlog.tripCountry %>">
          </div>
          <div class="form-group col-md-6">
            <label for="tripCity">Şehri güncelleyin.</label>
            <input type="text" class="form-control" id="tripCity" placeholder="" name="city" value="<%= foundBlog.tripCity %>">
          </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="datepicker" >Gezinizin başlangıç tarihini güncelleyin. <small>(Şu anlık devre dışı)</small></label>
                <input type="date" class="form-control" id="datepicker" name="startdate" disabled>
            </div>
            <div class="form-group col-md-6">
                <label for="tripDuration">Gezinizin süresini güncelleyin.</label>
                <select id="tripDuration" class="form-control" name="duration">
                <option>1-3 Gün</option>
                <option>3-7 Gün</option>
                <option>1-2 Hafta</option>
                <option>2-4 Hafta</option>
                <option>1-3 Ay</option>
                <option>3-6 Ay</option>
                <option>6-12 Ay</option>
                <option>1 Yıldan fazla</option>
                </select>
            </div>
        </div>
        <div class="form-group">
          <label for="tripSummary">Gezi özetinizi güncelleyin. (Ana sayfadaki kartlarda gözükür)</label>
          <input type="text" class="form-control" id="tripSummary" placeholder="" name="summary" value="<%= foundBlog.tripSummary %>">
        </div>
        <div class="form-group">
            <label for="editor">Gezi yazınızı güncelleyin.</label>
            <textarea class="form-control" id="editor" name="content"><%- foundBlog.tripArticle %></textarea>
        </div>
    
        <div class="form-group" style="text-align:center">
        <button type="submit" class="btn btn-success">GÜNCELLE</button>
        </div>
    </form>
</div>

<p id="typePasser" hidden ><%= foundBlog.tripType %></p>
<p id="durationPasser" hidden><%= foundBlog.tripDuration %></p>
<script>
    var postType = document.getElementById('typePasser').innerHTML;
    var durationType = document.getElementById('durationPasser').innerHTML;
    document.getElementById('tripType').value = postType;
    document.getElementById('tripDuration').value = durationType;
    ClassicEditor
        .create( document.querySelector( '#editor' ) )
        .catch( error => {
            console.error( error );
        } );
</script>

<% include partials/footer.ejs %>