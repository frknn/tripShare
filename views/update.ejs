<% include partials/header.ejs %>
<header>
    <script src="https://cdn.ckeditor.com/ckeditor5/11.2.0/classic/ckeditor.js"></script>
</header>

<div class="container">
    <br>
    <h2 style="text-align:center">Update Your Blog</h2>
    <br>
    <form action="/updated/<%= foundBlog._id %>" enctype="multipart/form-data" method="POST">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="tripPhoto">Update your trip photo.<small>(Currently inactive)</small></label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="tripPhoto" name="image" disabled>
                    <label class="custom-file-label" for="customFile"></label>
                </div>
            </div>
            <div class="form-group col-md-6">
                <label for="tripType">Update your trip type.</label>
                <select id="tripType" class="form-control" name="type">
                <option value="Summer Holiday">Summer Holiday</option>
                <option value="Winter Holiday">Winter Holiday</option>
                <option value="Cultural Trip">Cultural Trip</option>
                <option value="Nature Trip">Nature Trip</option>
                <option value="Other">Other</option>
                </select>
            </div>    
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="tripCountry">Update your country.</label>
            <input type="text" class="form-control" id="tripCountry" placeholder="" name="country" value="<%= foundBlog.tripCountry %>">
          </div>
          <div class="form-group col-md-6">
            <label for="tripCity">Update City.</label>
            <input type="text" class="form-control" id="tripCity" placeholder="" name="city" value="<%= foundBlog.tripCity %>">
          </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="datepicker" >Update start date.<small>(Currently inactive)</small></label>
                <input type="date" class="form-control" id="datepicker" name="startdate" disabled>
            </div>
            <div class="form-group col-md-6">
                <label for="tripDuration">Update the duration of your trip.</label>
                <select id="tripDuration" class="form-control" name="duration">
                <option>1-3 Days</option>
                <option>3-7 Days</option>
                <option>1-2 Weeks</option>
                <option>2-4 Weeks</option>
                <option>1-3 Mounths</option>
                <option>3-6 Mounths</option>
                <option>6-12 Mounths</option>
                <option>1+ Year</option>
                </select>
            </div>
        </div>
        <div class="form-group">
          <label for="tripSummary">Update your summarize sentence. (It will appear on the cards on the main page.)</label>
          <input type="text" class="form-control" id="tripSummary" placeholder="" name="summary" value="<%= foundBlog.tripSummary %>">
        </div>
        <div class="form-group">
            <label for="editor">Update your blog.</label>
            <textarea class="form-control" id="editor" name="content"><%- foundBlog.tripArticle %></textarea>
        </div>
    
        <div class="form-group" style="text-align:center">
        <button type="submit" class="btn btn-success">Update</button>
        </div>
    </form>
</div>

<p id="typePasser" hidden ><%= foundBlog.tripType %></p>
<p id="durationPasser" hidden><%= foundBlog.tripDuration %></p>
<script>
    var postType = document.getElementById('typePasser').innerHTML;
    var durationType = document.getElementById('durationPasser').innerHTML;
    document.getElementById('tripType').value = postType;
    document.getElementById('tripDuration').value = durationType;
    ClassicEditor
        .create( document.querySelector( '#editor' ) )
        .catch( error => {
            console.error( error );
        } );
</script>

<% include partials/footer.ejs %>